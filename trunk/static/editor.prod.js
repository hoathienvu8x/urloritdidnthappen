var g=void 0,i=null,n,aa=aa||{},o=this;function ba(a){a=a.split(".");for(var b=o,c;c=a.shift();)if(b[c]!=i)b=b[c];else return i;return b}function q(){}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function s(a){return ca(a)=="array"}function da(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function t(a){return typeof a=="string"}function ea(a){return ca(a)=="function"}function fa(a){a=ca(a);return a=="object"||a=="array"||a=="function"}function u(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;
function ia(a){return a.call.apply(a.bind,arguments)}function ja(a,b){var c=b||o;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(c,f)}}else return function(){return a.apply(c,arguments)}}function v(){v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return v.apply(i,arguments)}
function ka(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var la=Date.now||function(){return+new Date};function w(a,b){function c(){}c.prototype=b.prototype;a.w=b.prototype;a.prototype=new c}function ma(a){this.stack=Error().stack||"";if(a)this.message=String(a)}w(ma,Error);ma.prototype.name="CustomError";
function na(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}var oa=/^[a-zA-Z0-9\-_.!~*'()]*$/;function pa(a){a=String(a);if(!oa.test(a))return encodeURIComponent(a);return a}function qa(a){if(!ra.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(sa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(ta,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(ua,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(va,"&quot;"));return a}
var sa=/&/g,ta=/</g,ua=/>/g,va=/\"/g,ra=/[&<>\"]/;
function wa(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(d.length,f.length),h=0;c==0&&h<e;h++){var j=d[h]||"",k=f[h]||"",m=RegExp("(\\d*)(\\D*)","g"),A=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(j)||["","",""],l=A.exec(k)||["","",""];if(p[0].length==0&&l[0].length==0)break;c=xa(p[1].length==0?0:parseInt(p[1],10),l[1].length==0?0:parseInt(l[1],10))||xa(p[2].length==0,l[2].length==0)||xa(p[2],l[2])}while(c==
0)}return c}function xa(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}function ya(a,b){b.unshift(a);ma.call(this,na.apply(i,b));b.shift();this.ib=a}w(ya,ma);ya.prototype.name="AssertionError";function za(a){throw new ya("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));}
var x=Array.prototype,Aa=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=c==i?0:c<0?Math.max(0,a.length+c):c;if(t(a)){if(!t(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=t(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)};function Ca(a,b){var c=Aa(a,b);c>=0&&x.splice.call(a,c,1)}
function Da(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(s(c)||(d=da(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,e=c.length,h=0;h<e;h++)a[f+h]=c[h];else a.push(c)}}var y,Ea,Fa,Ga,Ha,Ia;function Ja(){return o.navigator?o.navigator.userAgent:i}y=!1;Ea=!1;Fa=!1;Ga=!1;Ha=!1;var z;if(z=Ja()){var Ka=o.navigator;y=z.indexOf("Opera")==0;Ea=!y&&z.indexOf("MSIE")!=-1;Ga=(Fa=!y&&z.indexOf("WebKit")!=-1)&&z.indexOf("Mobile")!=-1;Ha=!y&&!Fa&&Ka.product=="Gecko"}
var La=y,B=Ea,Ma=Ha,C=Fa,Na=Ga,Oa,Pa=o.navigator;Oa=Pa&&Pa.platform||"";Ia=Oa.indexOf("Mac")!=-1;var Qa=Oa.indexOf("Win")!=-1,Ra;a:{var Sa="",D;if(La&&o.opera){var Ta=o.opera.version;Sa=typeof Ta=="function"?Ta():Ta}else{if(Ma)D=/rv\:([^\);]+)(\)|;)/;else if(B)D=/MSIE\s+([^\);]+)(\)|;)/;else C&&(D=/WebKit\/(\S+)/);if(D){var Ua=D.exec(Ja());Sa=Ua?Ua[1]:""}}if(B){var Va,Wa=o.document;Va=Wa?Wa.documentMode:undefined;if(Va>parseFloat(Sa)){Ra=String(Va);break a}}Ra=Sa}var Xa={};
function E(a){return Xa[a]||(Xa[a]=wa(Ra,a)>=0)}!B||E("9");B&&E("9");function F(a,b){this.width=a;this.height=b}F.prototype.r=function(){return new F(this.width,this.height)};F.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};F.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};function Ya(a,b){for(var c in a)b.call(g,a[c],c,a)}function Za(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}
function $a(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var ab=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function bb(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<ab.length;f++){b=ab[f];Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}}}
function cb(a){var b=document;if(db(b))return b.querySelectorAll("."+a);else if(b.getElementsByClassName)return b.getElementsByClassName(a);var c,d,f;b=document;if(db(b)&&a)a=b.querySelectorAll(""+(a?"."+a:""));else if(a&&b.getElementsByClassName){var e=b.getElementsByClassName(a);a=e}else{e=b.getElementsByTagName("*");if(a){f={};for(c=d=0;b=e[c];c++){var h=b.className;typeof h.split=="function"&&Aa(h.split(/\s+/),a)>=0&&(f[d++]=b)}f.length=d;a=f}else a=e}return a}
function db(a){return a.querySelectorAll&&a.querySelector&&(!C||document.compatMode=="CSS1Compat"||E("528"))}function eb(a){var b=a.document;if(C&&!E("500")&&!Na){typeof a.innerHeight=="undefined"&&(a=window);b=a.innerHeight;var c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new F(a.innerWidth,b)}a=b.compatMode=="CSS1Compat";La&&!E("9.50")&&(a=!1);a=a?b.documentElement:b.body;return new F(a.clientWidth,a.clientHeight)}var fb;!B||E("9");B&&E("8");
function G(){gb&&(hb[u(this)]=this)}var gb=!1,hb={};G.prototype.va=!1;G.prototype.M=function(){if(!this.va){this.va=!0;this.f();if(gb){var a=u(this);if(!hb.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete hb[a]}}};G.prototype.f=function(){};function H(a,b){G.call(this);this.type=a;this.currentTarget=this.target=b}w(H,G);H.prototype.f=function(){delete this.type;delete this.target;delete this.currentTarget};
H.prototype.I=!1;H.prototype.aa=!0;var ib=new Function("a","return a");function I(a,b){a&&this.F(a,b)}w(I,H);n=I.prototype;n.target=i;n.relatedTarget=i;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.Xa=!1;n.wa=i;
n.F=function(a,b){var c=this.type=a.type;H.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Ma)try{ib(d.nodeName)}catch(f){d=i}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Xa=Ia?a.metaKey:a.ctrlKey;this.state=a.state;this.wa=a;delete this.aa;delete this.I};n.f=function(){I.w.f.call(this);this.relatedTarget=this.currentTarget=this.target=this.wa=i};function jb(){}var kb=0;n=jb.prototype;n.key=0;n.J=!1;n.ra=!1;
n.F=function(a,b,c,d,f,e){if(ea(a))this.Aa=!0;else if(a&&a.handleEvent&&ea(a.handleEvent))this.Aa=!1;else throw Error("Invalid listener argument");this.T=a;this.Fa=b;this.src=c;this.type=d;this.capture=!!f;this.ka=e;this.ra=!1;this.key=++kb;this.J=!1};n.handleEvent=function(a){if(this.Aa)return this.T.call(this.ka||this.src,a);return this.T.handleEvent.call(this.T,a)};
function J(a,b){G.call(this);this.Ca=b;this.t=[];if(a>this.Ca)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.t.push(this.k?this.k():{})}w(J,G);J.prototype.k=i;J.prototype.ua=i;J.prototype.getObject=function(){if(this.t.length)return this.t.pop();return this.k?this.k():{}};function K(a,b){a.t.length<a.Ca?a.t.push(b):lb(a,b)}function lb(a,b){if(a.ua)a.ua(b);else if(fa(b))if(ea(b.M))b.M();else for(var c in b)delete b[c]}
J.prototype.f=function(){J.w.f.call(this);for(var a=this.t;a.length;)lb(this,a.pop());delete this.t};var mb;var nb=(mb="ScriptEngine"in o&&o.ScriptEngine()=="JScript")?o.ScriptEngineMajorVersion()+"."+o.ScriptEngineMinorVersion()+"."+o.ScriptEngineBuildVersion():"0",ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb;
(function(){function a(){return{b:0,g:0}}function b(){return[]}function c(){function l(r){return h.call(l.src,l.key,r)}return l}function d(){return new jb}function f(){return new I}var e=mb&&!(wa(nb,"5.7")>=0),h;tb=function(l){h=l};if(e){ob=function(){return j.getObject()};pb=function(l){K(j,l)};qb=function(){return k.getObject()};rb=function(l){K(k,l)};sb=function(){return m.getObject()};ub=function(){K(m,c())};vb=function(){return A.getObject()};wb=function(l){K(A,l)};xb=function(){return p.getObject()};
yb=function(l){K(p,l)};var j=new J(0,600);j.k=a;var k=new J(0,600);k.k=b;var m=new J(0,600);m.k=c;var A=new J(0,600);A.k=d;var p=new J(0,600);p.k=f}else{ob=a;pb=q;qb=b;rb=q;sb=c;ub=q;vb=d;wb=q;xb=f;yb=q}})();var L={},M={},N={},zb={};
function O(a,b,c,d,f){if(b)if(s(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,f);return i}else{d=!!d;var h=M;b in h||(h[b]=ob());h=h[b];if(!(d in h)){h[d]=ob();h.b++}h=h[d];var j=u(a),k;h.g++;if(h[j]){k=h[j];for(e=0;e<k.length;e++){h=k[e];if(h.T==c&&h.ka==f){if(h.J)break;return k[e].key}}}else{k=h[j]=qb();h.b++}e=sb();e.src=a;h=vb();h.F(c,e,a,b,d,f);c=h.key;e.key=c;k.push(h);L[c]=h;N[j]||(N[j]=qb());N[j].push(h);if(a.addEventListener)(a==o||!a.ta)&&a.addEventListener(b,e,d);else a.attachEvent(Ab(b),
e);return c}else throw Error("Invalid event type");}function Bb(a,b,c,d,f){if(s(b))for(var e=0;e<b.length;e++)Bb(a,b[e],c,d,f);else{d=!!d;a:{e=M;if(b in e){e=e[b];if(d in e){e=e[d];a=u(a);if(e[a]){a=e[a];break a}}}a=i}if(a)for(e=0;e<a.length;e++)if(a[e].T==c&&a[e].capture==d&&a[e].ka==f){Cb(a[e].key);break}}}
function Cb(a){if(L[a]){var b=L[a];if(!b.J){var c=b.src,d=b.type,f=b.Fa,e=b.capture;if(c.removeEventListener)(c==o||!c.ta)&&c.removeEventListener(d,f,e);else c.detachEvent&&c.detachEvent(Ab(d),f);c=u(c);f=M[d][e][c];if(N[c]){var h=N[c];Ca(h,b);h.length==0&&delete N[c]}b.J=!0;f.Da=!0;Db(d,e,c,f);delete L[a]}}}
function Db(a,b,c,d){if(!d.Z&&d.Da){for(var f=0,e=0;f<d.length;f++)if(d[f].J){var h=d[f].Fa;h.src=i;ub(h);wb(d[f])}else{f!=e&&(d[e]=d[f]);e++}d.length=e;d.Da=!1;if(e==0){rb(d);delete M[a][b][c];M[a][b].b--;if(M[a][b].b==0){pb(M[a][b]);delete M[a][b];M[a].b--}if(M[a].b==0){pb(M[a]);delete M[a]}}}}
function Eb(a){var b,c=0,d=b==i;b=!!b;if(a==i)Ya(N,function(h){for(var j=h.length-1;j>=0;j--){var k=h[j];if(d||b==k.capture){Cb(k.key);c++}}});else{a=u(a);if(N[a]){a=N[a];for(var f=a.length-1;f>=0;f--){var e=a[f];if(d||b==e.capture){Cb(e.key);c++}}}}}function Ab(a){if(a in zb)return zb[a];return zb[a]="on"+a}
function Fb(a,b,c,d,f){var e=1;b=u(b);if(a[b]){a.g--;a=a[b];if(a.Z)a.Z++;else a.Z=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.J&&(e&=Gb(k,f)!==!1)}}finally{a.Z--;Db(c,d,b,a)}}return Boolean(e)}function Gb(a,b){var c=a.handleEvent(b);a.ra&&Cb(a.key);return c}
tb(function(a,b){if(!L[a])return!0;var c=L[a],d=c.type,f=M;if(!(d in f))return!0;f=f[d];var e,h;fb===undefined&&(fb=B&&!o.addEventListener);if(fb){e=b||ba("window.event");var j=!0 in f,k=!1 in f;if(j){if(e.keyCode<0||e.returnValue!=undefined)return!0;a:{var m=!1;if(e.keyCode==0)try{e.keyCode=-1;break a}catch(A){m=!0}if(m||e.returnValue==undefined)e.returnValue=!0}}m=xb();m.F(e,this);e=!0;try{if(j){for(var p=qb(),l=m.currentTarget;l;l=l.parentNode)p.push(l);h=f[!0];h.g=h.b;for(var r=p.length-1;!m.I&&
r>=0&&h.g;r--){m.currentTarget=p[r];e&=Fb(h,p[r],d,!0,m)}if(k){h=f[!1];h.g=h.b;for(r=0;!m.I&&r<p.length&&h.g;r++){m.currentTarget=p[r];e&=Fb(h,p[r],d,!1,m)}}}else e=Gb(c,m)}finally{if(p){p.length=0;rb(p)}m.M();yb(m)}return e}d=new I(b,this);try{e=Gb(c,d)}finally{d.M()}return e});function Hb(){G.call(this)}w(Hb,G);n=Hb.prototype;n.ta=!0;n.na=i;n.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Bb(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=M;if(b in c){if(t(a))a=new H(a,this);else if(a instanceof H)a.target=a.target||this;else{var d=a;a=new H(b,this);bb(a,d)}d=1;var f;c=c[b];b=!0 in c;var e;if(b){f=[];for(e=this;e;e=e.na)f.push(e);e=c[!0];e.g=e.b;for(var h=f.length-1;!a.I&&h>=0&&e.g;h--){a.currentTarget=f[h];d&=Fb(e,f[h],a.type,!0,a)&&a.aa!=!1}}if(!1 in c){e=c[!1];e.g=e.b;if(b)for(h=0;!a.I&&h<f.length&&e.g;h++){a.currentTarget=f[h];d&=Fb(e,f[h],a.type,!1,a)&&a.aa!=!1}else for(f=this;!a.I&&
f&&e.g;f=f.na){a.currentTarget=f;d&=Fb(e,f,a.type,!1,a)&&a.aa!=!1}}a=Boolean(d)}else a=!0;return a};n.f=function(){Hb.w.f.call(this);Eb(this);this.na=i};B||C&&E("525");var Ib=o.window;function Jb(a){if(typeof a.u=="function")return a.u();if(t(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Za(a)}
function Kb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(da(a)||t(a))Ba(a,b,c);else{var d;if(typeof a.D=="function")d=a.D();else if(typeof a.u!="function")if(da(a)||t(a)){d=[];for(var f=a.length,e=0;e<f;e++)d.push(e)}else d=$a(a);else d=g;f=Jb(a);e=f.length;for(var h=0;h<e;h++)b.call(c,f[h],d&&d[h],a)}}
function Lb(a){this.m={};this.e=[];var b=arguments.length;if(b>1){if(b%2)throw Error("Uneven number of arguments");for(var c=0;c<b;c+=2)this.q(arguments[c],arguments[c+1])}else if(a){if(a instanceof Lb){b=a.D();c=a.u()}else{b=$a(a);c=Za(a)}for(var d=0;d<b.length;d++)this.q(b[d],c[d])}}n=Lb.prototype;n.b=0;n.Ja=0;n.u=function(){Mb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.m[this.e[b]]);return a};n.D=function(){Mb(this);return this.e.concat()};n.p=function(a){return P(this.m,a)};
n.remove=function(a){if(P(this.m,a)){delete this.m[a];this.b--;this.Ja++;this.e.length>2*this.b&&Mb(this);return!0}return!1};function Mb(a){if(a.b!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];P(a.m,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.b!=a.e.length){var f={};for(c=b=0;b<a.e.length;){d=a.e[b];if(!P(f,d)){a.e[c++]=d;f[d]=1}b++}a.e.length=c}}n.get=function(a,b){if(P(this.m,a))return this.m[a];return b};n.q=function(a,b){if(!P(this.m,a)){this.b++;this.e.push(a);this.Ja++}this.m[a]=b};
n.r=function(){return new Lb(this)};function P(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Nb(a){return Ob(a||arguments.callee.caller,[])}
function Ob(a,b){var c=[];if(Aa(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(Pb(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){f>0&&c.push(", ");var e;e=d[f];switch(typeof e){case "object":e=e?"object":"null";break;case "string":break;case "number":e=String(e);break;case "boolean":e=e?"true":"false";break;case "function":e=(e=Pb(e))?e:"[fn]";break;default:e=typeof e}e.length>40&&(e=e.substr(0,40)+"...");c.push(e)}b.push(a);c.push(")\n");try{c.push(Ob(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Pb(a){a=String(a);if(!Qb[a]){var b=/function ([^\(]+)/.exec(a);Qb[a]=b?b[1]:"[Anonymous]"}return Qb[a]}var Qb={};function Q(a,b,c,d,f){this.reset(a,b,c,d,f)}Q.prototype.ab=0;Q.prototype.ya=i;Q.prototype.xa=i;var Rb=0;Q.prototype.reset=function(a,b,c,d,f){this.ab=typeof f=="number"?f:Rb++;this.jb=d||la();this.S=a;this.Ua=b;this.hb=c;delete this.ya;delete this.xa};Q.prototype.Ia=function(a){this.S=a};function R(a){this.Va=a}
R.prototype.$=i;R.prototype.S=i;R.prototype.ha=i;R.prototype.za=i;function S(a,b){this.name=a;this.value=b}S.prototype.toString=function(){return this.name};var Sb=new S("SEVERE",1E3),Tb=new S("WARNING",900),Ub=new S("CONFIG",700),Vb=new S("FINE",500),Wb=new S("FINEST",300);R.prototype.getParent=function(){return this.$};R.prototype.Ia=function(a){this.S=a};function Xb(a){if(a.S)return a.S;if(a.$)return Xb(a.$);za("Root logger has no level set.");return i}
R.prototype.log=function(a,b,c){if(a.value>=Xb(this).value){a=this.Na(a,b,c);o.console&&o.console.markTimeline&&o.console.markTimeline("log:"+a.Ua);for(b=this;b;){c=b;var d=a;if(c.za)for(var f=0,e=g;e=c.za[f];f++)e(d);b=b.getParent()}}};
R.prototype.Na=function(a,b,c){var d=new Q(a,String(b),this.Va);if(c){d.ya=c;var f;var e=arguments.callee.caller;try{var h;var j=ba("window.location.href");if(t(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var k,m,A=!1;try{k=c.lineNumber||c.fb||"Not available"}catch(p){k="Not available";A=!0}try{m=c.fileName||c.filename||c.sourceURL||j}catch(l){m="Not available";A=!0}h=A||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,
lineNumber:k,fileName:m,stack:c.stack||"Not available"}:c}f="Message: "+qa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+qa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+qa(Nb(e)+"-> ")}catch(r){f="Exception trying to expose exception! You win, we lose. "+r}d.xa=f}return d};function T(a,b){a.log(Vb,b,g)}var Yb={},Zb=i;
function $b(a){if(!Zb){Zb=new R("");Yb[""]=Zb;Zb.Ia(Ub)}var b;if(!(b=Yb[a])){b=new R(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=$b(a.substr(0,c));if(!c.ha)c.ha={};c.ha[d]=b;b.$=c;Yb[a]=b}return b}function ac(){}ac.prototype.V=i;function bc(){return cc(dc)}var dc;function ec(){}w(ec,ac);function cc(a){return(a=fc(a))?new ActiveXObject(a):new XMLHttpRequest}function gc(a){var b={};if(fc(a)){b[0]=!0;b[1]=!0}return b}ec.prototype.la=i;
function fc(a){if(!a.la&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);return a.la=d}catch(f){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.la}dc=new ec;function hc(){if(Ma){this.s={};this.ga={};this.ca=[]}}hc.prototype.d=$b("goog.net.xhrMonitor");
hc.prototype.W=Ma;function ic(a,b){if(a.W){var c=t(b)?b:fa(b)?u(b):"";a.d.log(Wb,"Pushing context: "+b+" ("+c+")",g);a.ca.push(c)}}function jc(a){if(a.W){var b=a.ca.pop();a.d.log(Wb,"Popping context: "+b,g);kc(a,b)}}function lc(a,b){if(a.W){var c=u(b);T(a.d,"Opening XHR : "+c);for(var d=0;d<a.ca.length;d++){var f=a.ca[d];mc(a.s,f,c);mc(a.ga,c,f)}}}
function kc(a,b){var c=a.ga[b],d=a.s[b];if(c&&d){a.d.log(Wb,"Updating dependent contexts",g);Ba(c,function(f){Ba(d,function(e){mc(this.s,f,e);mc(this.ga,e,f)},this)},a)}}function mc(a,b,c){a[b]||(a[b]=[]);Aa(a[b],c)>=0||a[b].push(c)}var U=new hc,nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function V(a){G.call(this);this.headers=new Lb;this.L=a||i}w(V,Hb);V.prototype.d=$b("goog.net.XhrIo");
var oc=/^https?:?$/i,pc=[];function qc(a){a.M();Ca(pc,a)}n=V.prototype;n.o=!1;n.a=i;n.fa=i;n.R="";n.Ba="";n.P=0;n.Q="";n.ja=!1;n.X=!1;n.ma=!1;n.v=!1;n.da=0;n.z=i;n.Ga="";n.cb=!1;
n.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request");b=b||"GET";this.R=a;this.Q="";this.P=0;this.Ba=b;this.ja=!1;this.o=!0;this.a=this.L?cc(this.L):new bc;this.fa=this.L?this.L.V||(this.L.V=gc(this.L)):dc.V||(dc.V=gc(dc));lc(U,this.a);this.a.onreadystatechange=v(this.Ea,this);try{T(this.d,W(this,"Opening Xhr"));this.ma=!0;this.a.open(b,a,!0);this.ma=!1}catch(f){T(this.d,W(this,"Error opening Xhr: "+f.message));rc(this,f);return}a=c||"";var e=this.headers.r();
d&&Kb(d,function(j,k){e.q(k,j)});b=="POST"&&!e.p("Content-Type")&&e.q("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Kb(e,function(j,k){this.a.setRequestHeader(k,j)},this);if(this.Ga)this.a.responseType=this.Ga;if("withCredentials"in this.a)this.a.withCredentials=this.cb;try{if(this.z){Ib.clearTimeout(this.z);this.z=i}if(this.da>0){T(this.d,W(this,"Will abort after "+this.da+"ms if incomplete"));this.z=Ib.setTimeout(v(this.bb,this),this.da)}T(this.d,W(this,"Sending request"));this.X=
!0;this.a.send(a);this.X=!1}catch(h){T(this.d,W(this,"Send error: "+h.message));rc(this,h)}};n.dispatchEvent=function(a){if(this.a){ic(U,this.a);try{return V.w.dispatchEvent.call(this,a)}finally{jc(U)}}else return V.w.dispatchEvent.call(this,a)};n.bb=function(){if(typeof aa!="undefined"&&this.a){this.Q="Timed out after "+this.da+"ms, aborting";this.P=8;T(this.d,W(this,this.Q));this.dispatchEvent("timeout");this.abort(8)}};
function rc(a,b){a.o=!1;if(a.a){a.v=!0;a.a.abort();a.v=!1}a.Q=b;a.P=5;sc(a);tc(a)}function sc(a){if(!a.ja){a.ja=!0;a.dispatchEvent("complete");a.dispatchEvent("error")}}n.abort=function(a){if(this.a&&this.o){T(this.d,W(this,"Aborting"));this.o=!1;this.v=!0;this.a.abort();this.v=!1;this.P=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");tc(this)}};n.f=function(){if(this.a){if(this.o){this.o=!1;this.v=!0;this.a.abort();this.v=!1}tc(this,!0)}V.w.f.call(this)};
n.Ea=function(){!this.ma&&!this.X&&!this.v?this.Wa():uc(this)};n.Wa=function(){uc(this)};
function uc(a){if(a.o&&typeof aa!="undefined")if(a.fa[1]&&vc(a)==4&&wc(a)==2)T(a.d,W(a,"Local request error detected and ignored"));else if(a.X&&vc(a)==4)Ib.setTimeout(v(a.Ea,a),0);else{a.dispatchEvent("readystatechange");if(vc(a)==4){T(a.d,W(a,"Request complete"));a.o=!1;var b;a:switch(wc(a)){case 0:b=(b=t(a.R)?a.R.match(nc)[1]||i:a.R.n)?oc.test(b):self.location?oc.test(self.location.protocol):!0;b=!b;break a;case 200:case 204:case 304:b=!0;break a;default:b=!1}if(b){a.dispatchEvent("complete");
a.dispatchEvent("success")}else{a.P=6;var c;try{c=vc(a)>2?a.a.statusText:""}catch(d){T(a.d,"Can not get status: "+d.message);c=""}a.Q=c+" ["+wc(a)+"]";sc(a)}tc(a)}}}
function tc(a,b){if(a.a){var c=a.a,d=a.fa[0]?q:i;a.a=i;a.fa=i;if(a.z){Ib.clearTimeout(a.z);a.z=i}if(!b){ic(U,c);a.dispatchEvent("ready");jc(U)}if(U.W){var f=u(c);T(U.d,"Closing XHR : "+f);delete U.ga[f];for(var e in U.s){Ca(U.s[e],f);U.s[e].length==0&&delete U.s[e]}}try{c.onreadystatechange=d}catch(h){a.d.log(Sb,"Problem encountered resetting onreadystatechange: "+h.message,g)}}}function vc(a){return a.a?a.a.readyState:0}
function wc(a){try{return vc(a)>2?a.a.status:-1}catch(b){a.d.log(Tb,"Can not get status: "+b.message,g);return-1}}function W(a,b){return b+" ["+a.Ba+" "+a.R+" "+wc(a)+"]"}
function xc(a,b){var c;if(a instanceof xc){this.K(b==i?a.i:b);yc(this,a.n);zc(this,a.U);Ac(this,a.C);Bc(this,a.H);Cc(this,a.G);Dc(this,a.j.r());Ec(this,a.O)}else if(a&&(c=String(a).match(nc))){this.K(!!b);yc(this,c[1]||"",!0);zc(this,c[2]||"",!0);Ac(this,c[3]||"",!0);Bc(this,c[4]);Cc(this,c[5]||"",!0);Dc(this,c[6]||"",!0);Ec(this,c[7]||"",!0)}else{this.K(!!b);this.j=new Fc(i,this,this.i)}}n=xc.prototype;n.n="";n.U="";n.C="";n.H=i;n.G="";n.O="";n.Ta=!1;n.i=!1;
n.toString=function(){if(this.h)return this.h;var a=[];this.n&&a.push(Gc(this.n,Hc),":");if(this.C){a.push("//");this.U&&a.push(Gc(this.U,Hc),"@");var b;b=this.C;b=t(b)?encodeURIComponent(b):i;a.push(b);this.H!=i&&a.push(":",String(this.H))}if(this.G){this.C&&this.G.charAt(0)!="/"&&a.push("/");a.push(Gc(this.G,Ic))}(b=String(this.j))&&a.push("?",b);this.O&&a.push("#",Gc(this.O,Jc));return this.h=a.join("")};
n.r=function(){var a=this.n,b=this.U,c=this.C,d=this.H,f=this.G,e=this.j.r(),h=this.O,j=new xc(i,this.i);a&&yc(j,a);b&&zc(j,b);c&&Ac(j,c);d&&Bc(j,d);f&&Cc(j,f);e&&Dc(j,e);h&&Ec(j,h);return j};function yc(a,b,c){X(a);delete a.h;a.n=c?b?decodeURIComponent(b):"":b;if(a.n)a.n=a.n.replace(/:$/,"")}function zc(a,b,c){X(a);delete a.h;a.U=c?b?decodeURIComponent(b):"":b}function Ac(a,b,c){X(a);delete a.h;a.C=c?b?decodeURIComponent(b):"":b}
function Bc(a,b){X(a);delete a.h;if(b){b=Number(b);if(isNaN(b)||b<0)throw Error("Bad port number "+b);a.H=b}else a.H=i}function Cc(a,b,c){X(a);delete a.h;a.G=c?b?decodeURIComponent(b):"":b}function Dc(a,b,c){X(a);delete a.h;if(b instanceof Fc){a.j=b;a.j.pa=a;a.j.K(a.i)}else{c||(b=Gc(b,Kc));a.j=new Fc(b,a,a.i)}return a}function Ec(a,b,c){X(a);delete a.h;a.O=c?b?decodeURIComponent(b):"":b}function X(a){if(a.Ta)throw Error("Tried to modify a read-only Uri");}
n.K=function(a){this.i=a;this.j&&this.j.K(a);return this};var Lc=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Gc(a,b){var c=i;if(t(a)){c=a;Lc.test(c)||(c=encodeURI(a));c.search(b)>=0&&(c=c.replace(b,Mc))}return c}function Mc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Hc=/[#\/\?@]/g,Ic=/[\#\?]/g,Kc=/[\#\?@]/g,Jc=/#/g;function Fc(a,b,c){this.l=a||i;this.pa=b||i;this.i=!!c}
function Y(a){if(!a.c){a.c=new Lb;if(a.l)for(var b=a.l.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=i,e=i;if(d>=0){f=b[c].substring(0,d);e=b[c].substring(d+1)}else f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Z(a,f);a.add(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}n=Fc.prototype;n.c=i;n.b=i;n.add=function(a,b){Y(this);Nc(this);a=Z(this,a);if(this.p(a)){var c=this.c.get(a);s(c)?c.push(b):this.c.q(a,[c,b])}else this.c.q(a,b);this.b++;return this};
n.remove=function(a){Y(this);a=Z(this,a);if(this.c.p(a)){Nc(this);var b=this.c.get(a);if(s(b))this.b-=b.length;else this.b--;return this.c.remove(a)}return!1};n.p=function(a){Y(this);a=Z(this,a);return this.c.p(a)};n.D=function(){Y(this);for(var a=this.c.u(),b=this.c.D(),c=[],d=0;d<b.length;d++){var f=a[d];if(s(f))for(var e=0;e<f.length;e++)c.push(b[d]);else c.push(b[d])}return c};
n.u=function(a){Y(this);if(a){a=Z(this,a);if(this.p(a)){var b=this.c.get(a);if(s(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.c.u();a=[];for(var c=0;c<b.length;c++){var d=b[c];s(d)?Da(a,d):a.push(d)}}return a};n.q=function(a,b){Y(this);Nc(this);a=Z(this,a);if(this.p(a)){var c=this.c.get(a);if(s(c))this.b-=c.length;else this.b--}this.c.q(a,b);this.b++;return this};n.get=function(a,b){Y(this);a=Z(this,a);if(this.p(a)){var c=this.c.get(a);return s(c)?c[0]:c}else return b};
n.toString=function(){if(this.l)return this.l;if(!this.c)return"";for(var a=[],b=0,c=this.c.D(),d=0;d<c.length;d++){var f=c[d],e=pa(f);f=this.c.get(f);if(s(f))for(var h=0;h<f.length;h++){b>0&&a.push("&");a.push(e);f[h]!==""&&a.push("=",pa(f[h]));b++}else{b>0&&a.push("&");a.push(e);f!==""&&a.push("=",pa(f));b++}}return this.l=a.join("")};function Nc(a){delete a.ia;delete a.l;a.pa&&delete a.pa.h}n.r=function(){var a=new Fc;if(this.ia)a.ia=this.ia;if(this.l)a.l=this.l;if(this.c)a.c=this.c.r();return a};
function Z(a,b){var c=String(b);a.i&&(c=c.toLowerCase());return c}n.K=function(a){if(a&&!this.i){Y(this);Nc(this);Kb(this.c,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.i=a};function Oc(a){G.call(this);this.A=a||window;this.Y=O(this.A,"resize",this.Ra,!1,this);this.ba=eb(this.A||window);if(C&&Qa||La&&this.A.self!=this.A.top)this.ea=window.setInterval(v(this.sa,this),Pc)}w(Oc,Hb);var Pc=500;n=Oc.prototype;n.Y=i;n.A=i;n.ba=i;n.ea=i;
n.f=function(){Oc.w.f.call(this);if(this.Y){Cb(this.Y);this.Y=i}if(this.ea){window.clearInterval(this.ea);this.ea=i}this.ba=this.A=i};n.Ra=function(){this.sa()};n.sa=function(){var a=eb(this.A||window),b;b=this.ba;b=a==b?!0:!a||!b?!1:a.width==b.width&&a.height==b.height;if(!b){this.ba=a;this.dispatchEvent("resize")}};var $={};
$.F=function(){var a=cb("editor-preview")[0],b=cb("editor-bespin")[0];$.Ya=new $.Ka(a);$.N=new $.qa(b);$.N.Ha=document.getElementById("save-content");$.$a=document.getElementById("save-content-form");$.Za=document.getElementById("save-content-btn");O($.Za,"click",$.Sa,!1,$)};$.Sa=function(){this.$a.submit()};$.gb=function(){var a=this.N,b="templates/"+(this.Oa()||"default")+".html",c=v(this.Pa,this);a=v(a.Qa,a,c);c=new V;pc.push(c);a&&O(c,"complete",a);O(c,"ready",ka(qc,c));c.send(b,g,g,g)};
$.Oa=function(){return(new xc(location)).j.get("name","").replace("../","")};$.oa=function(){var a=this.N.B.value;$.N.Ha.value=a;var b=this.Ya.Ma.contentDocument;b.open();b.write(a);b.close()};$.Pa=function(){this.oa()};$.Ka=function(a){var b=a.tagName.toLowerCase()=="iframe";if(!b)throw"Assertion failed: "+b;this.Ma=a};
$.qa=function(a){var b=this;bespin.useBespin(a).then(function(c){b.La=c;b.B=c.editor;b.B.syntax="html";b.B.focus=!0;c.settings.tabsize=2;b.B.value=$.N.Ha.value;$.oa();O(new Oc,"resize",function(){b.La.eb()});b.B.textChanged.add(function(){$.oa()})},function(c){throw Error("Launch failed: "+c);})};$.qa.prototype.Qa=function(a,b){var c;var d=b.target;try{c=d.a?d.a.responseText:""}catch(f){T(d.d,"Can not get responseText: "+f.message);c=""}this.B.value=c;a&&ea(a)&&a.call()};window.onBespinLoad=function(){$.F()};
