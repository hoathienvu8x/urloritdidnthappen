var h=void 0,i=null,k,aa=aa||{},o=this;function ba(a){a=a.split(".");for(var b=o,c;c=a.shift();)if(b[c]!=i)b=b[c];else return i;return b}function q(){}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function r(a){return ca(a)=="array"}function da(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function s(a){return typeof a=="string"}function ea(a){return ca(a)=="function"}function fa(a){a=ca(a);return a=="object"||a=="array"||a=="function"}function t(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;
function ia(a){return a.call.apply(a.bind,arguments)}function ja(a,b){var c=b||o;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}function v(){v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return v.apply(i,arguments)}
function ka(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var la=Date.now||function(){return+new Date};function w(a,b){function c(){}c.prototype=b.prototype;a.p=b.prototype;a.prototype=new c}function ma(a){this.stack=Error().stack||"";if(a)this.message=String(a)}w(ma,Error);ma.prototype.name="CustomError";
function na(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}var oa=/^[a-zA-Z0-9\-_.!~*'()]*$/;function pa(a){a=String(a);if(!oa.test(a))return encodeURIComponent(a);return a}function qa(a){if(!ra.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(sa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(ta,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(ua,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(va,"&quot;"));return a}
var sa=/&/g,ta=/</g,ua=/>/g,va=/\"/g,ra=/[&<>\"]/;
function wa(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",l=e[g]||"",m=RegExp("(\\d*)(\\D*)","g"),C=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(j)||["","",""],n=C.exec(l)||["","",""];if(p[0].length==0&&n[0].length==0)break;c=xa(p[1].length==0?0:parseInt(p[1],10),n[1].length==0?0:parseInt(n[1],10))||xa(p[2].length==0,n[2].length==0)||xa(p[2],n[2])}while(c==
0)}return c}function xa(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}function ya(a,b){b.unshift(a);ma.call(this,na.apply(i,b));b.shift();this.ob=a}w(ya,ma);ya.prototype.name="AssertionError";function za(a){throw new ya("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));}
var x=Array.prototype,y=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=c==i?0:c<0?Math.max(0,a.length+c):c;if(s(a)){if(!s(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Aa=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=s(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Ba(a,b){var c=y(a,b);c>=0&&x.splice.call(a,c,1)}
function Ca(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(r(c)||(d=da(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,g=0;g<f;g++)a[e+g]=c[g];else a.push(c)}}function Da(a){x.splice.apply(a,Ea(arguments,1))}function Ea(a,b,c){return arguments.length<=2?x.slice.call(a,b):x.slice.call(a,b,c)}var z,Fa,Ga,Ha,Ia,Ja;function Ka(){return o.navigator?o.navigator.userAgent:i}z=!1;Fa=!1;Ga=!1;Ha=!1;Ia=!1;var La;
if(La=Ka()){var Ma=o.navigator;z=La.indexOf("Opera")==0;Fa=!z&&La.indexOf("MSIE")!=-1;Ha=(Ga=!z&&La.indexOf("WebKit")!=-1)&&La.indexOf("Mobile")!=-1;Ia=!z&&!Ga&&Ma.product=="Gecko"}var Na=z,A=Fa,Oa=Ia,Pa=Ga,Qa=Ha,Ra,Sa=o.navigator;Ra=Sa&&Sa.platform||"";Ja=Ra.indexOf("Mac")!=-1;var Ta=Ra.indexOf("Win")!=-1,Ua;
a:{var Va="",Wa;if(Na&&o.opera){var Xa=o.opera.version;Va=typeof Xa=="function"?Xa():Xa}else{if(Oa)Wa=/rv\:([^\);]+)(\)|;)/;else if(A)Wa=/MSIE\s+([^\);]+)(\)|;)/;else Pa&&(Wa=/WebKit\/(\S+)/);if(Wa){var Ya=Wa.exec(Ka());Va=Ya?Ya[1]:""}}if(A){var Za,$a=o.document;Za=$a?$a.documentMode:undefined;if(Za>parseFloat(Va)){Ua=String(Za);break a}}Ua=Va}var ab={};function B(a){return ab[a]||(ab[a]=wa(Ua,a)>=0)}!A||B("9");A&&B("9");
function bb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function cb(a){for(var b=bb(a),c=Ea(arguments,1),d=0,e=0;e<c.length;e++)if(!(y(b,c[e])>=0)){b.push(c[e]);d++}a.className=b.join(" ")}function db(a){for(var b=bb(a),c=Ea(arguments,1),d=0,e=0;e<b.length;e++)if(y(c,b[e])>=0){Da(b,e--,1);d++}a.className=b.join(" ")}function eb(a){!(y(bb(a),"menu-button-container-on")>=0)?cb(a,"menu-button-container-on"):db(a,"menu-button-container-on")}
function D(a,b){this.width=a;this.height=b}D.prototype.u=function(){return new D(this.width,this.height)};D.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};D.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};function fb(a,b){for(var c in a)b.call(h,a[c],c,a)}function gb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function hb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}
var ib=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function jb(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<ib.length;e++){b=ib[e];Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}}}function kb(a){var b=document;if(lb(b))return b.querySelectorAll("."+a);else if(b.getElementsByClassName)return b.getElementsByClassName(a);return mb(document,"*",a,h)}
function lb(a){return a.querySelectorAll&&a.querySelector&&(!Pa||document.compatMode=="CSS1Compat"||B("528"))}
function mb(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(lb(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)b==g.nodeName&&(d[e++]=g);d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++){b=g.className;typeof b.split=="function"&&y(b.split(/\s+/),c)>=0&&(d[e++]=g)}d.length=e;return d}else return a}
function nb(a){var b=a.document;if(Pa&&!B("500")&&!Qa){typeof a.innerHeight=="undefined"&&(a=window);b=a.innerHeight;var c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new D(a.innerWidth,b)}a=b.compatMode=="CSS1Compat";Na&&!B("9.50")&&(a=!1);a=a?b.documentElement:b.body;return new D(a.clientWidth,a.clientHeight)}function ob(a){for(;a&&a.nodeType!=1;)a=a.nextSibling;return a}var pb;!A||B("9");A&&B("8");function E(){qb&&(rb[t(this)]=this)}var qb=!1,rb={};E.prototype.Aa=!1;
E.prototype.w=function(){if(!this.Aa){this.Aa=!0;this.f();if(qb){var a=t(this);if(!rb.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete rb[a]}}};E.prototype.f=function(){};function F(a,b){E.call(this);this.type=a;this.currentTarget=this.target=b}w(F,E);F.prototype.f=function(){delete this.type;delete this.target;delete this.currentTarget};F.prototype.M=!1;F.prototype.fa=!0;
var sb=new Function("a","return a");function G(a,b){a&&this.J(a,b)}w(G,F);k=G.prototype;k.target=i;k.relatedTarget=i;k.offsetX=0;k.offsetY=0;k.clientX=0;k.clientY=0;k.screenX=0;k.screenY=0;k.button=0;k.keyCode=0;k.charCode=0;k.ctrlKey=!1;k.altKey=!1;k.shiftKey=!1;k.metaKey=!1;k.eb=!1;k.pa=i;
k.J=function(a,b){var c=this.type=a.type;F.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Oa)try{sb(d.nodeName)}catch(e){d=i}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.eb=Ja?a.metaKey:a.ctrlKey;this.state=a.state;this.pa=a;delete this.fa;delete this.M};k.f=function(){G.p.f.call(this);this.relatedTarget=this.currentTarget=this.target=this.pa=i};function tb(){}var ub=0;k=tb.prototype;k.key=0;k.N=!1;k.wa=!1;
k.J=function(a,b,c,d,e,f){if(ea(a))this.Ja=!0;else if(a&&a.handleEvent&&ea(a.handleEvent))this.Ja=!1;else throw Error("Invalid listener argument");this.W=a;this.Oa=b;this.src=c;this.type=d;this.capture=!!e;this.qa=f;this.wa=!1;this.key=++ub;this.N=!1};k.handleEvent=function(a){if(this.Ja)return this.W.call(this.qa||this.src,a);return this.W.handleEvent.call(this.W,a)};
function H(a,b){E.call(this);this.La=b;this.A=[];if(a>this.La)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.A.push(this.l?this.l():{})}w(H,E);H.prototype.l=i;H.prototype.za=i;H.prototype.getObject=function(){if(this.A.length)return this.A.pop();return this.l?this.l():{}};function I(a,b){a.A.length<a.La?a.A.push(b):vb(a,b)}function vb(a,b){if(a.za)a.za(b);else if(fa(b))if(ea(b.w))b.w();else for(var c in b)delete b[c]}
H.prototype.f=function(){H.p.f.call(this);for(var a=this.A;a.length;)vb(this,a.pop());delete this.A};var wb;var xb=(wb="ScriptEngine"in o&&o.ScriptEngine()=="JScript")?o.ScriptEngineMajorVersion()+"."+o.ScriptEngineMinorVersion()+"."+o.ScriptEngineBuildVersion():"0",yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib;
(function(){function a(){return{c:0,h:0}}function b(){return[]}function c(){function n(u){return g.call(n.src,n.key,u)}return n}function d(){return new tb}function e(){return new G}var f=wb&&!(wa(xb,"5.7")>=0),g;Db=function(n){g=n};if(f){yb=function(){return j.getObject()};zb=function(n){I(j,n)};Ab=function(){return l.getObject()};Bb=function(n){I(l,n)};Cb=function(){return m.getObject()};Eb=function(){I(m,c())};Fb=function(){return C.getObject()};Gb=function(n){I(C,n)};Hb=function(){return p.getObject()};
Ib=function(n){I(p,n)};var j=new H(0,600);j.l=a;var l=new H(0,600);l.l=b;var m=new H(0,600);m.l=c;var C=new H(0,600);C.l=d;var p=new H(0,600);p.l=e}else{yb=a;zb=q;Ab=b;Bb=q;Cb=c;Eb=q;Fb=d;Gb=q;Hb=e;Ib=q}})();var J={},K={},L={},Jb={};
function M(a,b,c,d,e){if(b)if(r(b)){for(var f=0;f<b.length;f++)M(a,b[f],c,d,e);return i}else{d=!!d;var g=K;b in g||(g[b]=yb());g=g[b];if(!(d in g)){g[d]=yb();g.c++}g=g[d];var j=t(a),l;g.h++;if(g[j]){l=g[j];for(f=0;f<l.length;f++){g=l[f];if(g.W==c&&g.qa==e){if(g.N)break;return l[f].key}}}else{l=g[j]=Ab();g.c++}f=Cb();f.src=a;g=Fb();g.J(c,f,a,b,d,e);c=g.key;f.key=c;l.push(g);J[c]=g;L[j]||(L[j]=Ab());L[j].push(g);if(a.addEventListener)(a==o||!a.ya)&&a.addEventListener(b,f,d);else a.attachEvent(Kb(b),
f);return c}else throw Error("Invalid event type");}function Lb(a,b,c,d,e){if(r(b))for(var f=0;f<b.length;f++)Lb(a,b[f],c,d,e);else{d=!!d;a:{f=K;if(b in f){f=f[b];if(d in f){f=f[d];a=t(a);if(f[a]){a=f[a];break a}}}a=i}if(a)for(f=0;f<a.length;f++)if(a[f].W==c&&a[f].capture==d&&a[f].qa==e){N(a[f].key);break}}}
function N(a){if(J[a]){var b=J[a];if(!b.N){var c=b.src,d=b.type,e=b.Oa,f=b.capture;if(c.removeEventListener)(c==o||!c.ya)&&c.removeEventListener(d,e,f);else c.detachEvent&&c.detachEvent(Kb(d),e);c=t(c);e=K[d][f][c];if(L[c]){var g=L[c];Ba(g,b);g.length==0&&delete L[c]}b.N=!0;e.Ma=!0;Mb(d,f,c,e);delete J[a]}}}
function Mb(a,b,c,d){if(!d.da&&d.Ma){for(var e=0,f=0;e<d.length;e++)if(d[e].N){var g=d[e].Oa;g.src=i;Eb(g);Gb(d[e])}else{e!=f&&(d[f]=d[e]);f++}d.length=f;d.Ma=!1;if(f==0){Bb(d);delete K[a][b][c];K[a][b].c--;if(K[a][b].c==0){zb(K[a][b]);delete K[a][b];K[a].c--}if(K[a].c==0){zb(K[a]);delete K[a]}}}}
function Nb(a){var b,c=0,d=b==i;b=!!b;if(a==i)fb(L,function(g){for(var j=g.length-1;j>=0;j--){var l=g[j];if(d||b==l.capture){N(l.key);c++}}});else{a=t(a);if(L[a]){a=L[a];for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture){N(f.key);c++}}}}}function Kb(a){if(a in Jb)return Jb[a];return Jb[a]="on"+a}
function Ob(a,b,c,d,e){var f=1;b=t(b);if(a[b]){a.h--;a=a[b];if(a.da)a.da++;else a.da=1;try{for(var g=a.length,j=0;j<g;j++){var l=a[j];l&&!l.N&&(f&=Pb(l,e)!==!1)}}finally{a.da--;Mb(c,d,b,a)}}return Boolean(f)}function Pb(a,b){var c=a.handleEvent(b);a.wa&&N(a.key);return c}
Db(function(a,b){if(!J[a])return!0;var c=J[a],d=c.type,e=K;if(!(d in e))return!0;e=e[d];var f,g;pb===undefined&&(pb=A&&!o.addEventListener);if(pb){f=b||ba("window.event");var j=!0 in e,l=!1 in e;if(j){if(f.keyCode<0||f.returnValue!=undefined)return!0;a:{var m=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(C){m=!0}if(m||f.returnValue==undefined)f.returnValue=!0}}m=Hb();m.J(f,this);f=!0;try{if(j){for(var p=Ab(),n=m.currentTarget;n;n=n.parentNode)p.push(n);g=e[!0];g.h=g.c;for(var u=p.length-1;!m.M&&
u>=0&&g.h;u--){m.currentTarget=p[u];f&=Ob(g,p[u],d,!0,m)}if(l){g=e[!1];g.h=g.c;for(u=0;!m.M&&u<p.length&&g.h;u++){m.currentTarget=p[u];f&=Ob(g,p[u],d,!1,m)}}}else f=Pb(c,m)}finally{if(p){p.length=0;Bb(p)}m.w();Ib(m)}return f}d=new G(b,this);try{f=Pb(c,d)}finally{d.w()}return f});function O(){E.call(this)}w(O,E);k=O.prototype;k.ya=!0;k.ta=i;k.addEventListener=function(a,b,c,d){M(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Lb(this,a,b,c,d)};
k.dispatchEvent=function(a){var b=a.type||a,c=K;if(b in c){if(s(a))a=new F(a,this);else if(a instanceof F)a.target=a.target||this;else{var d=a;a=new F(b,this);jb(a,d)}d=1;var e;c=c[b];b=!0 in c;var f;if(b){e=[];for(f=this;f;f=f.ta)e.push(f);f=c[!0];f.h=f.c;for(var g=e.length-1;!a.M&&g>=0&&f.h;g--){a.currentTarget=e[g];d&=Ob(f,e[g],a.type,!0,a)&&a.fa!=!1}}if(!1 in c){f=c[!1];f.h=f.c;if(b)for(g=0;!a.M&&g<e.length&&f.h;g++){a.currentTarget=e[g];d&=Ob(f,e[g],a.type,!1,a)&&a.fa!=!1}else for(e=this;!a.M&&
e&&f.h;e=e.ta){a.currentTarget=e;d&=Ob(f,e,a.type,!1,a)&&a.fa!=!1}}a=Boolean(d)}else a=!0;return a};k.f=function(){O.p.f.call(this);Nb(this);this.ta=i};var P=o.window;function Qb(a,b){if(ea(a))b&&(a=v(a,b));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return P.setTimeout(a,0)}function Rb(a){E.call(this);this.Ya=a}w(Rb,E);var Sb=new H(0,100),Tb=[];
Rb.prototype.f=function(){Rb.p.f.call(this);if(this.b){for(var a in this.b){N(a);delete this.b[a]}I(Sb,this.b);this.b=i}else this.R&&N(this.R)};Rb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};
function Q(a){E.call(this);this.g=a;this.Ia=A||Pa&&!B("531")&&a.tagName=="TEXTAREA";a=this.Ba=new Rb;var b=this.g,c=this.Ia?["keydown","paste","cut","drop"]:"input";if(!r(c)){Tb[0]=c;c=Tb}for(var d=0;d<c.length;d++){var e=a,f=M(b,c[d],this||a,!1,a.Ya||a);if(e.b)e.b[f]=!0;else if(e.R){e.b=Sb.getObject();e.b[e.R]=!0;e.R=i;e.b[f]=!0}else e.R=f}}w(Q,O);var Ub="input";Q.prototype.X=i;
Q.prototype.handleEvent=function(a){if(this.Ia){var b;if(!(b=a.type!="keydown"))a:if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=112&&a.keyCode<=123)b=!1;else switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 16:case 38:case 224:b=!1;break a;default:b=!0}if(b){var c=a.type=="keydown"?this.g.value:i;A&&a.keyCode==229&&(c=i);var d=Vb(a);Wb(this);this.X=Qb(function(){this.X=
i;this.g.value!=c&&Xb(this,d)},this)}}else(!Na||this.g==(this.g.nodeType==9?this.g:this.g.ownerDocument||this.g.document).activeElement)&&Xb(this,Vb(a))};function Wb(a){if(a.X!=i){P.clearTimeout(a.X);a.X=i}}function Vb(a){a=new G(a.pa);a.type=Ub;return a}function Xb(a,b){try{a.dispatchEvent(b)}finally{b.w()}}Q.prototype.f=function(){Q.p.f.call(this);this.Ba.w();Wb(this);delete this.g};
function Yb(a){if(typeof a.B=="function")return a.B();if(s(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gb(a)}function Zb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(da(a)||s(a))Aa(a,b,c);else{var d;if(typeof a.I=="function")d=a.I();else if(typeof a.B!="function")if(da(a)||s(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=hb(a);else d=h;e=Yb(a);f=e.length;for(var g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}}
function $b(a){this.n={};this.b=[];var b=arguments.length;if(b>1){if(b%2)throw Error("Uneven number of arguments");for(var c=0;c<b;c+=2)this.s(arguments[c],arguments[c+1])}else if(a){if(a instanceof $b){b=a.I();c=a.B()}else{b=hb(a);c=gb(a)}for(var d=0;d<b.length;d++)this.s(b[d],c[d])}}k=$b.prototype;k.c=0;k.Sa=0;k.B=function(){ac(this);for(var a=[],b=0;b<this.b.length;b++)a.push(this.n[this.b[b]]);return a};k.I=function(){ac(this);return this.b.concat()};k.r=function(a){return R(this.n,a)};
k.remove=function(a){if(R(this.n,a)){delete this.n[a];this.c--;this.Sa++;this.b.length>2*this.c&&ac(this);return!0}return!1};function ac(a){if(a.c!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];R(a.n,d)&&(a.b[c++]=d);b++}a.b.length=c}if(a.c!=a.b.length){var e={};for(c=b=0;b<a.b.length;){d=a.b[b];if(!R(e,d)){a.b[c++]=d;e[d]=1}b++}a.b.length=c}}k.get=function(a,b){if(R(this.n,a))return this.n[a];return b};k.s=function(a,b){if(!R(this.n,a)){this.c++;this.b.push(a);this.Sa++}this.n[a]=b};
k.u=function(){return new $b(this)};function R(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function bc(a){return cc(a||arguments.callee.caller,[])}
function cc(a,b){var c=[];if(y(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(dc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=dc(f))?f:"[fn]";break;default:f=typeof f}f.length>40&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(cc(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function dc(a){a=String(a);if(!ec[a]){var b=/function ([^\(]+)/.exec(a);ec[a]=b?b[1]:"[Anonymous]"}return ec[a]}var ec={};function fc(a,b,c,d,e){this.reset(a,b,c,d,e)}fc.prototype.ib=0;fc.prototype.Da=i;fc.prototype.Ca=i;var gc=0;fc.prototype.reset=function(a,b,c,d,e){this.ib=typeof e=="number"?e:gc++;this.pb=d||la();this.V=a;this.ab=b;this.nb=c;delete this.Da;delete this.Ca};fc.prototype.Qa=function(a){this.V=a};
function S(a){this.bb=a}S.prototype.ea=i;S.prototype.V=i;S.prototype.ma=i;S.prototype.Ha=i;function hc(a,b){this.name=a;this.value=b}hc.prototype.toString=function(){return this.name};var ic=new hc("SEVERE",1E3),jc=new hc("WARNING",900),kc=new hc("CONFIG",700),lc=new hc("FINE",500),mc=new hc("FINEST",300);S.prototype.getParent=function(){return this.ea};S.prototype.Qa=function(a){this.V=a};function nc(a){if(a.V)return a.V;if(a.ea)return nc(a.ea);za("Root logger has no level set.");return i}
S.prototype.log=function(a,b,c){if(a.value>=nc(this).value){a=this.Ua(a,b,c);o.console&&o.console.markTimeline&&o.console.markTimeline("log:"+a.ab);for(b=this;b;){c=b;var d=a;if(c.Ha)for(var e=0,f=h;f=c.Ha[e];e++)f(d);b=b.getParent()}}};
S.prototype.Ua=function(a,b,c){var d=new fc(a,String(b),this.bb);if(c){d.Da=c;var e;var f=arguments.callee.caller;try{var g;var j=ba("window.location.href");if(s(c))g={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var l,m,C=!1;try{l=c.lineNumber||c.lb||"Not available"}catch(p){l="Not available";C=!0}try{m=c.fileName||c.filename||c.sourceURL||j}catch(n){m="Not available";C=!0}g=C||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,
lineNumber:l,fileName:m,stack:c.stack||"Not available"}:c}e="Message: "+qa(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+qa(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+qa(bc(f)+"-> ")}catch(u){e="Exception trying to expose exception! You win, we lose. "+u}d.Ca=e}return d};function T(a,b){a.log(lc,b,h)}var oc={},pc=i;
function qc(a){if(!pc){pc=new S("");oc[""]=pc;pc.Qa(kc)}var b;if(!(b=oc[a])){b=new S(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=qc(a.substr(0,c));if(!c.ma)c.ma={};c.ma[d]=b;b.ea=c;oc[a]=b}return b}function rc(){}rc.prototype.$=i;function sc(){return tc(uc)}var uc;function vc(){}w(vc,rc);function tc(a){return(a=wc(a))?new ActiveXObject(a):new XMLHttpRequest}function xc(a){var b={};if(wc(a)){b[0]=!0;b[1]=!0}return b}vc.prototype.ra=i;
function wc(a){if(!a.ra&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);return a.ra=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.ra}uc=new vc;function yc(){if(Oa){this.v={};this.la={};this.ha=[]}}yc.prototype.e=qc("goog.net.xhrMonitor");
yc.prototype.aa=Oa;function zc(a,b){if(a.aa){var c=s(b)?b:fa(b)?t(b):"";a.e.log(mc,"Pushing context: "+b+" ("+c+")",h);a.ha.push(c)}}function Ac(a){if(a.aa){var b=a.ha.pop();a.e.log(mc,"Popping context: "+b,h);Bc(a,b)}}function Cc(a,b){if(a.aa){var c=t(b);T(a.e,"Opening XHR : "+c);for(var d=0;d<a.ha.length;d++){var e=a.ha[d];Dc(a.v,e,c);Dc(a.la,c,e)}}}
function Bc(a,b){var c=a.la[b],d=a.v[b];if(c&&d){a.e.log(mc,"Updating dependent contexts",h);Aa(c,function(e){Aa(d,function(f){Dc(this.v,e,f);Dc(this.la,f,e)},this)},a)}}function Dc(a,b,c){a[b]||(a[b]=[]);y(a[b],c)>=0||a[b].push(c)}var U=new yc,Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function V(a){E.call(this);this.headers=new $b;this.P=a||i}w(V,O);V.prototype.e=qc("goog.net.XhrIo");
var Fc=/^https?:?$/i,Gc=[];function Hc(a,b){var c=new V;Gc.push(c);b&&M(c,"complete",b);M(c,"ready",ka(Ic,c));c.send(a,h,h,h)}function Ic(a){a.w();Ba(Gc,a)}k=V.prototype;k.q=!1;k.a=i;k.ka=i;k.U="";k.Ka="";k.S=0;k.T="";k.oa=!1;k.ba=!1;k.sa=!1;k.C=!1;k.ia=0;k.D=i;k.Pa="";k.kb=!1;
k.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request");b=b||"GET";this.U=a;this.T="";this.S=0;this.Ka=b;this.oa=!1;this.q=!0;this.a=this.P?tc(this.P):new sc;this.ka=this.P?this.P.$||(this.P.$=xc(this.P)):uc.$||(uc.$=xc(uc));Cc(U,this.a);this.a.onreadystatechange=v(this.Na,this);try{T(this.e,W(this,"Opening Xhr"));this.sa=!0;this.a.open(b,a,!0);this.sa=!1}catch(e){T(this.e,W(this,"Error opening Xhr: "+e.message));Jc(this,e);return}a=c||"";var f=this.headers.u();
d&&Zb(d,function(j,l){f.s(l,j)});b=="POST"&&!f.r("Content-Type")&&f.s("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Zb(f,function(j,l){this.a.setRequestHeader(l,j)},this);if(this.Pa)this.a.responseType=this.Pa;if("withCredentials"in this.a)this.a.withCredentials=this.kb;try{if(this.D){P.clearTimeout(this.D);this.D=i}if(this.ia>0){T(this.e,W(this,"Will abort after "+this.ia+"ms if incomplete"));this.D=P.setTimeout(v(this.jb,this),this.ia)}T(this.e,W(this,"Sending request"));this.ba=
!0;this.a.send(a);this.ba=!1}catch(g){T(this.e,W(this,"Send error: "+g.message));Jc(this,g)}};k.dispatchEvent=function(a){if(this.a){zc(U,this.a);try{return V.p.dispatchEvent.call(this,a)}finally{Ac(U)}}else return V.p.dispatchEvent.call(this,a)};k.jb=function(){if(typeof aa!="undefined"&&this.a){this.T="Timed out after "+this.ia+"ms, aborting";this.S=8;T(this.e,W(this,this.T));this.dispatchEvent("timeout");this.abort(8)}};
function Jc(a,b){a.q=!1;if(a.a){a.C=!0;a.a.abort();a.C=!1}a.T=b;a.S=5;Kc(a);Lc(a)}function Kc(a){if(!a.oa){a.oa=!0;a.dispatchEvent("complete");a.dispatchEvent("error")}}k.abort=function(a){if(this.a&&this.q){T(this.e,W(this,"Aborting"));this.q=!1;this.C=!0;this.a.abort();this.C=!1;this.S=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");Lc(this)}};k.f=function(){if(this.a){if(this.q){this.q=!1;this.C=!0;this.a.abort();this.C=!1}Lc(this,!0)}V.p.f.call(this)};
k.Na=function(){!this.sa&&!this.ba&&!this.C?this.cb():Mc(this)};k.cb=function(){Mc(this)};
function Mc(a){if(a.q&&typeof aa!="undefined")if(a.ka[1]&&Nc(a)==4&&Oc(a)==2)T(a.e,W(a,"Local request error detected and ignored"));else if(a.ba&&Nc(a)==4)P.setTimeout(v(a.Na,a),0);else{a.dispatchEvent("readystatechange");if(Nc(a)==4){T(a.e,W(a,"Request complete"));a.q=!1;var b;a:switch(Oc(a)){case 0:b=(b=s(a.U)?a.U.match(Ec)[1]||i:a.U.o)?Fc.test(b):self.location?Fc.test(self.location.protocol):!0;b=!b;break a;case 200:case 204:case 304:b=!0;break a;default:b=!1}if(b){a.dispatchEvent("complete");
a.dispatchEvent("success")}else{a.S=6;var c;try{c=Nc(a)>2?a.a.statusText:""}catch(d){T(a.e,"Can not get status: "+d.message);c=""}a.T=c+" ["+Oc(a)+"]";Kc(a)}Lc(a)}}}
function Lc(a,b){if(a.a){var c=a.a,d=a.ka[0]?q:i;a.a=i;a.ka=i;if(a.D){P.clearTimeout(a.D);a.D=i}if(!b){zc(U,c);a.dispatchEvent("ready");Ac(U)}if(U.aa){var e=t(c);T(U.e,"Closing XHR : "+e);delete U.la[e];for(var f in U.v){Ba(U.v[f],e);U.v[f].length==0&&delete U.v[f]}}try{c.onreadystatechange=d}catch(g){a.e.log(ic,"Problem encountered resetting onreadystatechange: "+g.message,h)}}}function Nc(a){return a.a?a.a.readyState:0}
function Oc(a){try{return Nc(a)>2?a.a.status:-1}catch(b){a.e.log(jc,"Can not get status: "+b.message,h);return-1}}function Pc(a){try{return a.a?a.a.responseText:""}catch(b){T(a.e,"Can not get responseText: "+b.message);return""}}function W(a,b){return b+" ["+a.Ka+" "+a.U+" "+Oc(a)+"]"}
function Qc(a,b){var c;if(a instanceof Qc){this.O(b==i?a.j:b);Rc(this,a.o);Sc(this,a.Z);Tc(this,a.H);Uc(this,a.L);Vc(this,a.K);Wc(this,a.k.u());Xc(this,a.Q)}else if(a&&(c=String(a).match(Ec))){this.O(!!b);Rc(this,c[1]||"",!0);Sc(this,c[2]||"",!0);Tc(this,c[3]||"",!0);Uc(this,c[4]);Vc(this,c[5]||"",!0);Wc(this,c[6]||"",!0);Xc(this,c[7]||"",!0)}else{this.O(!!b);this.k=new Yc(i,this,this.j)}}k=Qc.prototype;k.o="";k.Z="";k.H="";k.L=i;k.K="";k.Q="";k.Za=!1;k.j=!1;
k.toString=function(){if(this.i)return this.i;var a=[];this.o&&a.push(Zc(this.o,$c),":");if(this.H){a.push("//");this.Z&&a.push(Zc(this.Z,$c),"@");var b;b=this.H;b=s(b)?encodeURIComponent(b):i;a.push(b);this.L!=i&&a.push(":",String(this.L))}if(this.K){this.H&&this.K.charAt(0)!="/"&&a.push("/");a.push(Zc(this.K,ad))}(b=String(this.k))&&a.push("?",b);this.Q&&a.push("#",Zc(this.Q,bd));return this.i=a.join("")};
k.u=function(){var a=this.o,b=this.Z,c=this.H,d=this.L,e=this.K,f=this.k.u(),g=this.Q,j=new Qc(i,this.j);a&&Rc(j,a);b&&Sc(j,b);c&&Tc(j,c);d&&Uc(j,d);e&&Vc(j,e);f&&Wc(j,f);g&&Xc(j,g);return j};function Rc(a,b,c){X(a);delete a.i;a.o=c?b?decodeURIComponent(b):"":b;if(a.o)a.o=a.o.replace(/:$/,"")}function Sc(a,b,c){X(a);delete a.i;a.Z=c?b?decodeURIComponent(b):"":b}function Tc(a,b,c){X(a);delete a.i;a.H=c?b?decodeURIComponent(b):"":b}
function Uc(a,b){X(a);delete a.i;if(b){b=Number(b);if(isNaN(b)||b<0)throw Error("Bad port number "+b);a.L=b}else a.L=i}function Vc(a,b,c){X(a);delete a.i;a.K=c?b?decodeURIComponent(b):"":b}function Wc(a,b,c){X(a);delete a.i;if(b instanceof Yc){a.k=b;a.k.va=a;a.k.O(a.j)}else{c||(b=Zc(b,cd));a.k=new Yc(b,a,a.j)}return a}function Xc(a,b,c){X(a);delete a.i;a.Q=c?b?decodeURIComponent(b):"":b}function X(a){if(a.Za)throw Error("Tried to modify a read-only Uri");}
k.O=function(a){this.j=a;this.k&&this.k.O(a);return this};var dd=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Zc(a,b){var c=i;if(s(a)){c=a;dd.test(c)||(c=encodeURI(a));c.search(b)>=0&&(c=c.replace(b,ed))}return c}function ed(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $c=/[#\/\?@]/g,ad=/[\#\?]/g,cd=/[\#\?@]/g,bd=/#/g;function Yc(a,b,c){this.m=a||i;this.va=b||i;this.j=!!c}
function Y(a){if(!a.d){a.d=new $b;if(a.m)for(var b=a.m.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=i,f=i;if(d>=0){e=b[c].substring(0,d);f=b[c].substring(d+1)}else e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Z(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}k=Yc.prototype;k.d=i;k.c=i;k.add=function(a,b){Y(this);fd(this);a=Z(this,a);if(this.r(a)){var c=this.d.get(a);r(c)?c.push(b):this.d.s(a,[c,b])}else this.d.s(a,b);this.c++;return this};
k.remove=function(a){Y(this);a=Z(this,a);if(this.d.r(a)){fd(this);var b=this.d.get(a);if(r(b))this.c-=b.length;else this.c--;return this.d.remove(a)}return!1};k.r=function(a){Y(this);a=Z(this,a);return this.d.r(a)};k.I=function(){Y(this);for(var a=this.d.B(),b=this.d.I(),c=[],d=0;d<b.length;d++){var e=a[d];if(r(e))for(var f=0;f<e.length;f++)c.push(b[d]);else c.push(b[d])}return c};
k.B=function(a){Y(this);if(a){a=Z(this,a);if(this.r(a)){var b=this.d.get(a);if(r(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.d.B();a=[];for(var c=0;c<b.length;c++){var d=b[c];r(d)?Ca(a,d):a.push(d)}}return a};k.s=function(a,b){Y(this);fd(this);a=Z(this,a);if(this.r(a)){var c=this.d.get(a);if(r(c))this.c-=c.length;else this.c--}this.d.s(a,b);this.c++;return this};k.get=function(a,b){Y(this);a=Z(this,a);if(this.r(a)){var c=this.d.get(a);return r(c)?c[0]:c}else return b};
k.toString=function(){if(this.m)return this.m;if(!this.d)return"";for(var a=[],b=0,c=this.d.I(),d=0;d<c.length;d++){var e=c[d],f=pa(e);e=this.d.get(e);if(r(e))for(var g=0;g<e.length;g++){b>0&&a.push("&");a.push(f);e[g]!==""&&a.push("=",pa(e[g]));b++}else{b>0&&a.push("&");a.push(f);e!==""&&a.push("=",pa(e));b++}}return this.m=a.join("")};function fd(a){delete a.na;delete a.m;a.va&&delete a.va.i}k.u=function(){var a=new Yc;if(this.na)a.na=this.na;if(this.m)a.m=this.m;if(this.d)a.d=this.d.u();return a};
function Z(a,b){var c=String(b);a.j&&(c=c.toLowerCase());return c}k.O=function(a){if(a&&!this.j){Y(this);fd(this);Zb(this.d,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.j=a};function gd(a){E.call(this);this.F=a||window;this.ca=M(this.F,"resize",this.Wa,!1,this);this.ga=nb(this.F||window);if(Pa&&Ta||Na&&this.F.self!=this.F.top)this.ja=window.setInterval(v(this.xa,this),hd)}w(gd,O);var hd=500;k=gd.prototype;k.ca=i;k.F=i;k.ga=i;k.ja=i;
k.f=function(){gd.p.f.call(this);if(this.ca){N(this.ca);this.ca=i}if(this.ja){window.clearInterval(this.ja);this.ja=i}this.ga=this.F=i};k.Wa=function(){this.xa()};k.xa=function(){var a=nb(this.F||window),b;b=this.ga;b=a==b?!0:!a||!b?!1:a.width==b.width&&a.height==b.height;if(!b){this.ga=a;this.dispatchEvent("resize")}};var $={};
$.J=function(){var a=kb("editor-preview")[0],b=kb("editor-bespin")[0];$.fb=new $.Ta(a);$.z=new $.G(b);$.z.ua=document.getElementById("save-content");$.hb=document.getElementById("save-content-form");$.gb=document.getElementById("save-content-btn");M($.gb,"click",$.Xa,!1,$);$.$a()};
$.$a=function(){for(var a=mb(document,i,"menu-button",h),b=0,c;c=a[b];b++)c.onclick=function(){var d=ob(this.nextSibling),e=this.parentNode;eb(e);d=mb(document,"li",i,d);for(var f=0,g;g=d[f];f++)g.onclick=function(){var j=this.getAttribute("data-template-url"),l=$.z,m=v($.Fa,$);l=v(l.Ga,l,m);Hc(j,l);eb(e)}}};$.Xa=function(){this.hb.submit()};$.mb=function(){var a=this.z,b="templates/"+(this.Va()||"default")+".html",c=v(this.Fa,this);a=v(a.Ga,a,c);Hc(b,a)};
$.Va=function(){return(new Qc(location)).k.get("name","").replace("../","")};$.Y=function(){var a=this.z.Ea();$.z.ua.value=a;var b=this.fb.g.contentDocument;b.open();b.write(a);b.close()};$.Fa=function(){this.Y()};$.Ta=function(a){var b=a.tagName.toLowerCase()=="iframe";if(!b)throw"Assertion failed: "+b;this.g=a};
$.G=function(a){function b(){$.G.prototype.Ea=function(){return a.value};$.G.prototype.Ra=function(e){return a.value=e};setTimeout(function(){a.value=$.z.ua.value;$.Y();M(new Q(a),Ub,function(){$.Y()});a.setAttribute("class","editor-doc");a.focus()},0)}try{var c=this;bespin.useBespin(a,{settings:{fontsize:13,tabstop:2}}).then(function(e){c.t=e.editor;c.t.highlightline=!0;c.t.syntax="html";c.t.value=$.z.ua.value;$.Y();M(new gd,"resize",v(e.dimensionsChanged,e));c.t.textChanged.add(function(){$.Y()});
c.t.focus=!0},function(){b()})}catch(d){b()}};$.G.prototype.Ea=function(){return this.t.value};$.G.prototype.Ra=function(a){this.t.value=a};$.G.prototype.Ga=function(a,b){this.Ra(Pc(b.target));a&&ea(a)&&a.call()};window.onBespinLoad=function(){$.J()};
